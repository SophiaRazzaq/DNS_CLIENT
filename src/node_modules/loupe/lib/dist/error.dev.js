"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = inspectObject;

var _helpers = require("./helpers.js");

var errorKeys = ['stack', 'line', 'column', 'name', 'message', 'fileName', 'lineNumber', 'columnNumber', 'number', 'description'];

function inspectObject(error, options) {
  var properties = Object.getOwnPropertyNames(error).filter(function (key) {
    return errorKeys.indexOf(key) === -1;
  });
  var name = error.name;
  options.truncate -= name.length;
  var message = '';

  if (typeof error.message === 'string') {
    message = (0, _helpers.truncate)(error.message, options.truncate);
  } else {
    properties.unshift('message');
  }

  message = message ? ": ".concat(message) : '';
  options.truncate -= message.length + 5;
  var propertyContents = (0, _helpers.inspectList)(properties.map(function (key) {
    return [key, error[key]];
  }), options, _helpers.inspectProperty);
  return "".concat(name).concat(message).concat(propertyContents ? " { ".concat(propertyContents, " }") : '');
}