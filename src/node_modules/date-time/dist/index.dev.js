'use strict';

var timeZone = require('time-zone');

var dateTime = function dateTime(options) {
  options = Object.assign({
    date: new Date(),
    local: true,
    showTimeZone: false,
    showMilliseconds: false
  }, options);
  var _options = options,
      date = _options.date;

  if (options.local) {
    // Offset the date so it will return the correct value when getting the ISO string
    date = new Date(date.getTime() - date.getTimezoneOffset() * 60000);
  }

  var end = '';

  if (options.showTimeZone) {
    end = ' UTC' + (options.local ? timeZone(date) : '');
  }

  if (options.showMilliseconds && date.getUTCMilliseconds() > 0) {
    end = " ".concat(date.getUTCMilliseconds(), "ms").concat(end);
  }

  return date.toISOString().replace(/T/, ' ').replace(/\..+/, end);
};

module.exports = dateTime; // TODO: Remove this for the next major release

module.exports["default"] = dateTime;